###################################
# Read first part of PF header
rd hqm_pf_cfg_i.vendor_id
rd hqm_pf_cfg_i.device_id
rd hqm_pf_cfg_i.device_command
rd hqm_pf_cfg_i.device_status

# Setup FUNC_PF BAR to a base address of 0x00000001_xxxxxxxx
wr hqm_pf_cfg_i.func_bar_l 0x00000000
wr hqm_pf_cfg_i.func_bar_u 0x00000001
###################################
# Setup CSR_PF BAR to a base address of 0x00000002_xxxxxxxx
wr hqm_pf_cfg_i.csr_bar_l 0x00000000
wr hqm_pf_cfg_i.csr_bar_u 0x00000002
###################################
# Enable memory operations
wr hqm_pf_cfg_i.device_command 0x6
rd hqm_pf_cfg_i.device_command
###################################
# Configure SRIOV for 1 VF
wr hqm_pf_cfg_i.sriov_cap_num_vf 0x10            # 1 VF
wr hqm_pf_cfg_i.sriov_cap_control_status 0x1    # VF enable
###################################
# Configure FUNC_VF to a base address of 0x00000010_xxxxxxxx
wr hqm_pf_cfg_i.sriov_cap_func_bar_l 0x00000000
wr hqm_pf_cfg_i.sriov_cap_func_bar_u 0x00000010
###################################

###################################
# Read first strap part of PF header
rd hqm_pf_cfg_i.vendor_id  0x8086
rd hqm_pf_cfg_i.device_id  0x270B
rd hqm_pf_cfg_i.revision_id_class_code 0x0B400000
rd hqm_pf_cfg_i.subsystem_vendor_id 0x8086
rd hqm_pf_cfg_i.subsystem_id 0x0000 

# ###################################
# Read VF 0 cfg registers
rd hqm_vf_cfg_i[0].vendor_id 0x8086
rd hqm_vf_cfg_i[0].device_id 0xFFFF
rd hqm_vf_cfg_i[0].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[0].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[0].subsystem_id 0x0000

# ###################################
# Read VF 1 cfg registers
rd hqm_vf_cfg_i[1].vendor_id 0x8086
rd hqm_vf_cfg_i[1].device_id 0xFFFF
rd hqm_vf_cfg_i[1].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[1].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[1].subsystem_id 0x0000

# ###################################
# Read VF 2 cfg registers
rd hqm_vf_cfg_i[2].vendor_id 0x8086
rd hqm_vf_cfg_i[2].device_id 0xFFFF
rd hqm_vf_cfg_i[2].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[2].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[2].subsystem_id 0x0000

# ###################################
# Read VF 3 cfg registers
rd hqm_vf_cfg_i[3].vendor_id 0x8086
rd hqm_vf_cfg_i[3].device_id 0xFFFF
rd hqm_vf_cfg_i[3].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[3].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[3].subsystem_id 0x0000

# ###################################
# Read VF4 cfg registers
rd hqm_vf_cfg_i[4].vendor_id 0x8086
rd hqm_vf_cfg_i[4].device_id 0xFFFF
rd hqm_vf_cfg_i[4].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[4].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[4].subsystem_id 0x0000

# ###################################
# Read VF 5 cfg registers
rd hqm_vf_cfg_i[5].vendor_id 0x8086
rd hqm_vf_cfg_i[5].device_id 0xFFFF
rd hqm_vf_cfg_i[5].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[5].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[5].subsystem_id 0x0000

# ###################################
# Read VF 6 cfg registers
rd hqm_vf_cfg_i[6].vendor_id 0x8086
rd hqm_vf_cfg_i[6].device_id 0xFFFF
rd hqm_vf_cfg_i[6].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[6].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[6].subsystem_id 0x0000

# ###################################
# Read VF 7 cfg registers
rd hqm_vf_cfg_i[7].vendor_id 0x8086
rd hqm_vf_cfg_i[7].device_id 0xFFFF
rd hqm_vf_cfg_i[7].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[7].subsystem_vendor_id 0x8086
rd hqm_vf_cfg_i[7].subsystem_id 0x0000

# ###################################
# Read VF 8 cfg registers
rd hqm_vf_cfg_i[8].vendor_id 0x8086
rd hqm_vf_cfg_i[8].device_id 0xFFFF
rd hqm_vf_cfg_i[8].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[8].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[8].subsystem_id 0x0000

# ###################################
# Read VF 9 cfg registers
rd hqm_vf_cfg_i[9].vendor_id 0x8086
rd hqm_vf_cfg_i[9].device_id 0xFFFF
rd hqm_vf_cfg_i[9].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[9].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[9].subsystem_id 0x0000

# ###################################
# Read VF 10 cfg registers
rd hqm_vf_cfg_i[10].vendor_id 0x8086
rd hqm_vf_cfg_i[10].device_id 0xFFFF
rd hqm_vf_cfg_i[10].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[10].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[10].subsystem_id 0x0000

# ###################################
# Read VF 11 cfg registers
rd hqm_vf_cfg_i[11].vendor_id 0x8086
rd hqm_vf_cfg_i[11].device_id 0xFFFF
rd hqm_vf_cfg_i[11].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[11].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[11].subsystem_id 0x0000

# ###################################
# Read VF 12 cfg registers
rd hqm_vf_cfg_i[12].vendor_id 0x8086
rd hqm_vf_cfg_i[12].device_id 0xFFFF
rd hqm_vf_cfg_i[12].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[12].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[12].subsystem_id 0x0000

# ###################################
# Read VF 13 cfg registers
rd hqm_vf_cfg_i[13].vendor_id 0x8086
rd hqm_vf_cfg_i[13].device_id 0xFFFF
rd hqm_vf_cfg_i[13].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[13].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[13].subsystem_id 0x0000



# ###################################
# Read VF 14 cfg registers
rd hqm_vf_cfg_i[14].vendor_id 0x8086
rd hqm_vf_cfg_i[14].device_id 0xFFFF
rd hqm_vf_cfg_i[14].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[14].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[14].subsystem_id 0x0000

# ###################################
# Read VF 15 cfg registers
rd hqm_vf_cfg_i[15].vendor_id 0x8086
rd hqm_vf_cfg_i[15].device_id 0xFFFF
rd hqm_vf_cfg_i[15].revision_id_class_code 0x0B400000
rd hqm_vf_cfg_i[15].subsystem_vendor_id 0x8086 
rd hqm_vf_cfg_i[15].subsystem_id 0x0000


#wait for reset done
poll config_master.cfg_diagnostic_reset_status 0x000001ff 0x000081ff 1000







