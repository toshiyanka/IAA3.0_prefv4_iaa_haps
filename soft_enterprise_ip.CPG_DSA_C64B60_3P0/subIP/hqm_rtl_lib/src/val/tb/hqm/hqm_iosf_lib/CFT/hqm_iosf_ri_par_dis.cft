#NP/P/C header poison 1
#NP/P/C neader poison 1 + disable cfg  


###########################################################################################
wr hqm_sif_csr.ri_phdr_fifo_ctl 0x05
rd hqm_sif_csr.ri_phdr_fifo_ctl 0x05

#Forcing poison bit of np header to be 1 to generate parity error 
force hqm_tb_top.u_hqm.i_hqm_sip.hqm_sip_aon_wrap.i_hqm_sif.i_hqm_sif_core.i_hqm_iosfp_core.i_hqm_iosf_tgt_xlate.lli_nphdr.poison 1

idle 400
wr hqm_sif_csr.ri_nphdr_fifo_ctl 0x01
idle 400

release hqm_tb_top.u_hqm.i_hqm_sip.hqm_sip_aon_wrap.i_hqm_sif.i_hqm_sif_core.i_hqm_iosfp_core.i_hqm_iosf_tgt_xlate.lli_nphdr.poison 

rd hqm_system_csr.alarm_hw_synd 0x88048400  ## 31:Valid 27:iosf 21:16 Alarm ID 
                                             ## 15:Correctable   10:Alarm interrupt
rd hqm_sif_csr.sif_alarm_err    0x00000010  ##  4: RI Parity Error
rd hqm_sif_csr.ri_parity_err    0x00000004  ##  2: NP Header Parity Error
rd hqm_sif_csr.sif_parity_err   0x00000000  ##     No TI Parity Error 

rd hqm_sif_csr.ri_phdr_fifo_ctl 0x05

###########################################################################################

## Clear all syndrome registers which are of 1C type
wr hqm_system_csr.alarm_hw_synd 0x80000000
wr hqm_sif_csr.sif_alarm_err    0x00000010
wr hqm_sif_csr.ri_parity_err    0x00000004

###########################################################################################


wr hqm_sif_csr.parity_ctl 0x04

wr hqm_sif_csr.ri_phdr_fifo_ctl 0x05
rd hqm_sif_csr.ri_phdr_fifo_ctl 0x05


#Forcing poison bit of np header to be 1 to generate parity error 
force hqm_tb_top.u_hqm.i_hqm_sip.hqm_sip_aon_wrap.i_hqm_sif.i_hqm_sif_core.i_hqm_iosfp_core.i_hqm_iosf_tgt_xlate.lli_nphdr.poison 1

idle 400
wr hqm_sif_csr.ri_phdr_fifo_ctl 0x01
idle 400

release hqm_tb_top.u_hqm.i_hqm_sip.hqm_sip_aon_wrap.i_hqm_sif.i_hqm_sif_core.i_hqm_iosfp_core.i_hqm_iosf_tgt_xlate.lli_nphdr.poison 

rd hqm_system_csr.alarm_hw_synd 0x00000000  ##Add field info
rd hqm_sif_csr.sif_alarm_err    0x00000000  ##RI Parity Error
rd hqm_sif_csr.ri_parity_err    0x00000000  ##CBD Header Parity Error
rd hqm_sif_csr.sif_parity_err   0x00000000  ##No TI Parity error injected
rd hqm_sif_csr.hqm_sif_cnt_10   0x00000000

rd hqm_sif_csr.ri_phdr_fifo_ctl 0x01

