#########################################################
# Check SMONs
# DIR CQ Occ Ints
rd hqm_system_csr.aw_smon_activitycounter0[0] 0x00000040
# LDB CQ Occ Ints
rd hqm_system_csr.aw_smon_activitycounter1[0] 0x00000040
# MSI-X Ints
rd hqm_system_csr.aw_smon_activitycounter0[1] 0x00000000
# MSI Ints
rd hqm_system_csr.aw_smon_activitycounter1[1] 0x00000000
# MSIs
rd hqm_system_csr.hqm_system_cnt_12     0x00000000
rd hqm_system_csr.hqm_system_cnt_13     0x00000000
# MSI-Xs
rd hqm_system_csr.hqm_system_cnt_14     0x00000000
rd hqm_system_csr.hqm_system_cnt_15     0x00000000
# IOSF writes
rd hqm_system_csr.hqm_system_cnt_16     0x00000000
rd hqm_system_csr.hqm_system_cnt_17     0x00000000
# IOSF write drops
rd hqm_system_csr.hqm_system_cnt_18     0x00000000
rd hqm_system_csr.hqm_system_cnt_19     0x00000000
# 
rd hqm_msix_mem.hqm_msix_pba[0]         0xfffffffe
rd hqm_msix_mem.hqm_msix_pba[1]         0xffffffff
rd hqm_msix_mem.hqm_msix_pba[2]         0x00000001
#
#### #### rd hqm_vf_cfg_i[0].msi_cap_msg_pend     0xf0000000
#### #### rd hqm_vf_cfg_i[1].msi_cap_msg_pend     0x0000000f
#### #### rd hqm_vf_cfg_i[2].msi_cap_msg_pend     0x000000f0
#### #### rd hqm_vf_cfg_i[3].msi_cap_msg_pend     0x00000f00
#### #### rd hqm_vf_cfg_i[4].msi_cap_msg_pend     0x0000f000
#### #### rd hqm_vf_cfg_i[5].msi_cap_msg_pend     0x000f0000
#### #### rd hqm_vf_cfg_i[6].msi_cap_msg_pend     0x00f00000
#### #### rd hqm_vf_cfg_i[7].msi_cap_msg_pend     0x0f000000
#### #### rd hqm_vf_cfg_i[8].msi_cap_msg_pend     0xf0000000
#### #### rd hqm_vf_cfg_i[9].msi_cap_msg_pend     0x0000000f
#### #### rd hqm_vf_cfg_i[10].msi_cap_msg_pend    0x000000f0
#### #### rd hqm_vf_cfg_i[11].msi_cap_msg_pend    0x00000f00
#### #### rd hqm_vf_cfg_i[12].msi_cap_msg_pend    0x0000f000
#### #### rd hqm_vf_cfg_i[13].msi_cap_msg_pend    0x000f0000
#### #### rd hqm_vf_cfg_i[14].msi_cap_msg_pend    0x00f00000
#### #### rd hqm_vf_cfg_i[15].msi_cap_msg_pend    0x0f000000
#
#### #### rd hqm_func_vf_bar[0].vf_msi_isr        0xf0000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr        0x0000000f
#### #### rd hqm_func_vf_bar[2].vf_msi_isr        0x000000f0
#### #### rd hqm_func_vf_bar[3].vf_msi_isr        0x00000f00
#### #### rd hqm_func_vf_bar[4].vf_msi_isr        0x0000f000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr        0x000f0000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr        0x00f00000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr        0x0f000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr        0xf0000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr        0x0000000f
#### #### rd hqm_func_vf_bar[10].vf_msi_isr       0x000000f0
#### #### rd hqm_func_vf_bar[11].vf_msi_isr       0x00000f00
#### #### rd hqm_func_vf_bar[12].vf_msi_isr       0x0000f000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr       0x000f0000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr       0x00f00000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr       0x0f000000
#########################################################
# Reset the MSI-X and MSI mask bits
wr hqm_pf_cfg_i.msix_cap_control        0x8000
#### #### wr hqm_vf_cfg_i[0].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[1].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[2].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[3].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[4].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[5].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[6].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[7].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[8].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[9].msi_cap_msg_mask     0x00000000
#### #### wr hqm_vf_cfg_i[10].msi_cap_msg_mask    0x00000000
#### #### wr hqm_vf_cfg_i[11].msi_cap_msg_mask    0x00000000
#### #### wr hqm_vf_cfg_i[12].msi_cap_msg_mask    0x00000000
#### #### wr hqm_vf_cfg_i[13].msi_cap_msg_mask    0x00000000
#### #### wr hqm_vf_cfg_i[14].msi_cap_msg_mask    0x00000000
#### #### wr hqm_vf_cfg_i[15].msi_cap_msg_mask    0x00000000
idle 100
#########################################################
# Check SMONs
# DIR CQ Occ Ints
rd hqm_system_csr.aw_smon_activitycounter0[0] 0x00000040
# LDB CQ Occ Ints
rd hqm_system_csr.aw_smon_activitycounter1[0] 0x00000040
# MSI-X Ints (32 are masked by pending being set)
####AY_RM_TMP    rd hqm_system_csr.aw_smon_activitycounter0[1] 0x00000040
rd hqm_system_csr.aw_smon_activitycounter0[1] 0x00000000
# MSI Ints (32 are masked by pending being set)
rd hqm_system_csr.aw_smon_activitycounter1[1] 0x00000040
# MSIs
####AY_RM_TMP    rd hqm_system_csr.hqm_system_cnt_12     0x00000040
rd hqm_system_csr.hqm_system_cnt_13     0x00000000
# MSI-Xs                               
rd hqm_system_csr.hqm_system_cnt_14     0x00000040
rd hqm_system_csr.hqm_system_cnt_15     0x00000000
# IOSF writes                          
rd hqm_system_csr.hqm_system_cnt_16     0x00000040
rd hqm_system_csr.hqm_system_cnt_17     0x00000000
# IOSF write drops                     
rd hqm_system_csr.hqm_system_cnt_18     0x00000000
rd hqm_system_csr.hqm_system_cnt_19     0x00000000
# 
rd hqm_msix_mem.hqm_msix_pba[0]         0x00000000
rd hqm_msix_mem.hqm_msix_pba[1]         0x00000000
rd hqm_msix_mem.hqm_msix_pba[2]         0x00000000
#
#### #### rd hqm_vf_cfg_i[0].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[1].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[2].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[3].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[4].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[5].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[6].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[7].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[8].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[9].msi_cap_msg_pend     0x00000000
#### #### rd hqm_vf_cfg_i[10].msi_cap_msg_pend    0x00000000
#### #### rd hqm_vf_cfg_i[11].msi_cap_msg_pend    0x00000000
#### #### rd hqm_vf_cfg_i[12].msi_cap_msg_pend    0x00000000
#### #### rd hqm_vf_cfg_i[13].msi_cap_msg_pend    0x00000000
#### #### rd hqm_vf_cfg_i[14].msi_cap_msg_pend    0x00000000
#### #### rd hqm_vf_cfg_i[15].msi_cap_msg_pend    0x00000000
# MSI syndromes                        
#### #### rd hqm_func_vf_bar[0].vf_msi_isr        0xf0000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr        0x0000000f
#### #### rd hqm_func_vf_bar[2].vf_msi_isr        0x000000f0
#### #### rd hqm_func_vf_bar[3].vf_msi_isr        0x00000f00
#### #### rd hqm_func_vf_bar[4].vf_msi_isr        0x0000f000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr        0x000f0000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr        0x00f00000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr        0x0f000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr        0xf0000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr        0x0000000f
#### #### rd hqm_func_vf_bar[10].vf_msi_isr       0x000000f0
#### #### rd hqm_func_vf_bar[11].vf_msi_isr       0x00000f00
#### #### rd hqm_func_vf_bar[12].vf_msi_isr       0x0000f000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr       0x000f0000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr       0x00f00000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr       0x0f000000
#### #### wr hqm_func_vf_bar[0].vf_msi_isr        0xf0000000
#### #### wr hqm_func_vf_bar[1].vf_msi_isr        0x0000000f
#### #### wr hqm_func_vf_bar[2].vf_msi_isr        0x000000f0
#### #### wr hqm_func_vf_bar[3].vf_msi_isr        0x00000f00
#### #### wr hqm_func_vf_bar[4].vf_msi_isr        0x0000f000
#### #### wr hqm_func_vf_bar[5].vf_msi_isr        0x000f0000
#### #### wr hqm_func_vf_bar[6].vf_msi_isr        0x00f00000
#### #### wr hqm_func_vf_bar[7].vf_msi_isr        0x0f000000
#### #### wr hqm_func_vf_bar[8].vf_msi_isr        0xf0000000
#### #### wr hqm_func_vf_bar[9].vf_msi_isr        0x0000000f
#### #### wr hqm_func_vf_bar[10].vf_msi_isr       0x000000f0
#### #### wr hqm_func_vf_bar[11].vf_msi_isr       0x00000f00
#### #### wr hqm_func_vf_bar[12].vf_msi_isr       0x0000f000
#### #### wr hqm_func_vf_bar[13].vf_msi_isr       0x000f0000
#### #### wr hqm_func_vf_bar[14].vf_msi_isr       0x00f00000
#### #### wr hqm_func_vf_bar[15].vf_msi_isr       0x0f000000
#### #### rd hqm_func_vf_bar[0].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[2].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[3].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[4].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[10].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[11].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[12].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr       0x00000000
# MSI-X syndromes
rd hqm_system_csr.msix_64_synd          0x00000001
rd hqm_system_csr.msix_63_32_synd       0xffffffff
rd hqm_system_csr.msix_31_0_synd        0xfffffffe
wr hqm_system_csr.msix_64_synd          0x00000001
rd hqm_system_csr.msix_64_synd          0x00000000
rd hqm_system_csr.msix_63_32_synd       0xffffffff
rd hqm_system_csr.msix_31_0_synd        0xfffffffe
wr hqm_system_csr.msix_63_32_synd       0xffffffff
rd hqm_system_csr.msix_64_synd          0x00000000
rd hqm_system_csr.msix_63_32_synd       0x00000000
rd hqm_system_csr.msix_31_0_synd        0xfffffffe
wr hqm_system_csr.msix_31_0_synd        0xfffffffe
rd hqm_system_csr.msix_64_synd          0x00000000
rd hqm_system_csr.msix_63_32_synd       0x00000000
rd hqm_system_csr.msix_31_0_synd        0x00000000
# MSI ISR pending
#### #### rd hqm_func_vf_bar[0].vf_msi_isr_pend   0xf0000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr_pend   0x0000000f
#### #### rd hqm_func_vf_bar[2].vf_msi_isr_pend   0x000000f0
#### #### rd hqm_func_vf_bar[3].vf_msi_isr_pend   0x00000f00
#### #### rd hqm_func_vf_bar[4].vf_msi_isr_pend   0x0000f000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr_pend   0x000f0000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr_pend   0x00f00000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr_pend   0x0f000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr_pend   0xf0000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr_pend   0x0000000f
#### #### rd hqm_func_vf_bar[10].vf_msi_isr_pend  0x000000f0
#### #### rd hqm_func_vf_bar[11].vf_msi_isr_pend  0x00000f00
#### #### rd hqm_func_vf_bar[12].vf_msi_isr_pend  0x0000f000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr_pend  0x000f0000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr_pend  0x00f00000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr_pend  0x0f000000
#### #### wr hqm_func_vf_bar[0].vf_msi_isr_pend   0xf0000000
#### #### wr hqm_func_vf_bar[1].vf_msi_isr_pend   0x0000000f
#### #### wr hqm_func_vf_bar[2].vf_msi_isr_pend   0x000000f0
#### #### wr hqm_func_vf_bar[3].vf_msi_isr_pend   0x00000f00
#### #### wr hqm_func_vf_bar[4].vf_msi_isr_pend   0x0000f000
#### #### wr hqm_func_vf_bar[5].vf_msi_isr_pend   0x000f0000
#### #### wr hqm_func_vf_bar[6].vf_msi_isr_pend   0x00f00000
#### #### wr hqm_func_vf_bar[7].vf_msi_isr_pend   0x0f000000
#### #### wr hqm_func_vf_bar[8].vf_msi_isr_pend   0xf0000000
#### #### wr hqm_func_vf_bar[9].vf_msi_isr_pend   0x0000000f
#### #### wr hqm_func_vf_bar[10].vf_msi_isr_pend  0x000000f0
#### #### wr hqm_func_vf_bar[11].vf_msi_isr_pend  0x00000f00
#### #### wr hqm_func_vf_bar[12].vf_msi_isr_pend  0x0000f000
#### #### wr hqm_func_vf_bar[13].vf_msi_isr_pend  0x000f0000
#### #### wr hqm_func_vf_bar[14].vf_msi_isr_pend  0x00f00000
#### #### wr hqm_func_vf_bar[15].vf_msi_isr_pend  0x0f000000
#### #### rd hqm_func_vf_bar[0].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[2].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[3].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[4].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr_pend   0x00000000
#### #### rd hqm_func_vf_bar[10].vf_msi_isr_pend  0x00000000
#### #### rd hqm_func_vf_bar[11].vf_msi_isr_pend  0x00000000
#### #### rd hqm_func_vf_bar[12].vf_msi_isr_pend  0x00000000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr_pend  0x00000000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr_pend  0x00000000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr_pend  0x00000000
# MSI syndromes
#### #### rd hqm_func_vf_bar[0].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[1].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[2].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[3].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[4].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[5].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[6].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[7].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[8].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[9].vf_msi_isr        0x00000000
#### #### rd hqm_func_vf_bar[10].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[11].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[12].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[13].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[14].vf_msi_isr       0x00000000
#### #### rd hqm_func_vf_bar[15].vf_msi_isr       0x00000000

