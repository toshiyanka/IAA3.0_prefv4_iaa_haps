
idle 500
###############################
rd hqm_pf_cfg_i.vendor_id
rd hqm_pf_cfg_i.device_command
###############################
wr hqm_pf_cfg_i.func_bar_l 0xFFFFFFFF
wr hqm_pf_cfg_i.func_bar_u 0xFFFFFFFF
wr hqm_pf_cfg_i.csr_bar_l 0xFFFFFFFF
wr hqm_pf_cfg_i.csr_bar_u 0xFFFFFFFF
##
rd hqm_pf_cfg_i.func_bar_l
rd hqm_pf_cfg_i.func_bar_u
rd hqm_pf_cfg_i.csr_bar_l 
rd hqm_pf_cfg_i.csr_bar_u 
##
#####################################
### Setup FUNC_PF BAR to a base address of 0x00000001_xxxxxxxx
wr hqm_pf_cfg_i.func_bar_l 0x00000000
wr hqm_pf_cfg_i.func_bar_u 0x00000001
#####################################
### Setup CSR_PF BAR to a base address of 0x00000002_xxxxxxxx
wr hqm_pf_cfg_i.csr_bar_l 0x00000000
wr hqm_pf_cfg_i.csr_bar_u 0x00000002
##
#####################################
### Enable memory and parity operations
wr hqm_pf_cfg_i.device_command 0x6
rd hqm_pf_cfg_i.device_command 0x6
##
rd config_master.cfg_pm_pmcsr_disable.disable 0x0
##
###poll to Wait for reset to be done 
poll config_master.cfg_diagnostic_reset_status 0x80000bff 0x80000bff 500
###poll to Wait for unit_idle to be done 
poll config_master.cfg_diagnostic_idle_status 0x0007ffff 0x0007ffff 500

rd list_sel_pipe.cfg_unit_version

idle 50
force hqm_tb_top.u_hqm.pm_ip_clk_halt_b_2 0
idle 50
release hqm_tb_top.u_hqm.pm_ip_clk_halt_b_2
idle 500

rd direct_pipe.cfg_unit_version
