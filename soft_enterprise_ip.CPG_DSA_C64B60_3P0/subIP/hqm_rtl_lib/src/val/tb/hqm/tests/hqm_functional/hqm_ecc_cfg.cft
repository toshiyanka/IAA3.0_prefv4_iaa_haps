###################################
# Setup LUTs used by HCWs

#mem_update      # initialize memories to hqm_cfg defaults using backdoor access

###################################

cfg_begin

###################################
## PF only
###################################

  dir qid 2
  dir qid 6
  dir qid 13
  dir qid 51

  ldb qid 5
  ldb qid 6
  ldb qid 7
  ldb qid 8

  vas 10 credit_cnt=128 dir_qidv2=1  dir_qidv6=1  ldb_qidv5=1 ldb_qidv6=1 
  vas 15 credit_cnt=128 dir_qidv13=1 dir_qidv51=1 ldb_qidv7=1 ldb_qidv8=1

  dir pp 2  vas=10
  dir pp 6  vas=10
  ldb pp 20 vas=10
  ldb pp 21 vas=10

  dir pp 13 vas=15
  dir pp 51 vas=15
  ldb pp 30 vas=15
  ldb pp 31 vas=15

  dir cq 2  gpa=sm
  dir cq 6  gpa=sm
  dir cq 13 gpa=sm
  dir cq 51 gpa=sm

  ldb cq 20 gpa=sm qidv0=1 qidix0=5 
  ldb cq 21 gpa=sm qidv2=1 qidix2=6 
  ldb cq 30 gpa=sm qidv4=1 qidix4=7 
  ldb cq 31 gpa=sm qidv6=1 qidix6=8 
###################################

###################################
## VF only
###################################
  dir qid 12
  dir qid 31
  dir qid 40
  dir qid 62

  ldb qid 20
  ldb qid 21
  ldb qid 30
  ldb qid 31

  vas 0  credit_cnt=128 ldb_qidv20=1  ldb_qidv21=1 ldb_qidv30=1 ldb_qidv31=1 dir_qidv12=1 dir_qidv31=1 dir_qidv40=1 dir_qidv62=1

  dir pp 12 vas=0
  dir pp 31 vas=0
  dir pp 40 vas=0
  dir pp 62 vas=0

  ldb pp 40 vas=0 exp_unexp_comp=1
  ldb pp 41 vas=0
  ldb pp 62 vas=0
  ldb pp 63 vas=0

  dir cq 12 gpa=sm
  dir cq 31 gpa=sm
  dir cq 40 gpa=sm
  dir cq 62 gpa=sm

  ldb cq 40 gpa=sm qidv0=1 qidix0=20
  ldb cq 41 gpa=sm qidv0=1 qidix0=21
  ldb cq 62 gpa=sm qidv0=1 qidix0=30
  ldb cq 63 gpa=sm qidv0=1 qidix0=31

  vf 0   ldb_vpp2_v=1  ldb_vpp2_pp=40   ldb_vqid3_v=1  ldb_vqid3_qid=20  dir_vpp2_v=1  dir_vpp2_pp=12  dir_vqid2_v=1  dir_vqid2_qid=12
  vf 7   ldb_vpp20_v=1 ldb_vpp20_pp=41  ldb_vqid30_v=1 ldb_vqid30_qid=21 dir_vpp20_v=1 dir_vpp20_pp=31 dir_vqid20_v=1 dir_vqid20_qid=31
  vf 10  ldb_vpp21_v=1 ldb_vpp21_pp=62  ldb_vqid31_v=1 ldb_vqid31_qid=30 dir_vpp20_v=1 dir_vpp20_pp=40 dir_vqid20_v=1 dir_vqid20_qid=40
  vf 15  ldb_vpp31_v=1 ldb_vpp31_pp=63  ldb_vqid11_v=1 ldb_vqid11_qid=31 dir_vpp30_v=1 dir_vpp30_pp=62 dir_vqid30_v=1 dir_vqid30_qid=62
###################################

cfg_end

# Enable MSI-X
wr hqm_pf_cfg_i.msix_cap_control     0x8000
rd hqm_system_csr.alarm_hw_synd      0x00000000
rd hqm_system_csr.alarm_pf_synd0     0x00000000
rd hqm_system_csr.alarm_pf_synd1     0x00000000
rd hqm_system_csr.alarm_pf_synd2     0x00000000
rd hqm_system_csr.sbe_cnt_0          0x00000000
rd hqm_system_csr.sbe_cnt_1          0x00000000
