rd config_master.cfg_pm_pmcsr_disable
wr config_master.cfg_pm_pmcsr_disable.disable 0
rd config_master.cfg_pm_pmcsr_disable
rd config_master.cfg_pm_override
rd config_master.cfg_diagnostic_reset_status
#poll to Wait for reset to be done 
poll config_master.cfg_diagnostic_reset_status 0x80000bff 0x80000bff 500
#poll to Wait for unit_idle to be done 
poll config_master.cfg_diagnostic_idle_status 0x0007ffff 0x0007ffff 500

###################################
# Wait for reset to be done (including hardware memory init)
poll config_master.cfg_diagnostic_reset_status 0x000001ff 0x000081ff 1000

###################################
# Setup LUTs used by HCWs

#mem_update      # initialize memories to hqm_cfg defaults using backdoor access

cfg_begin

  dir qid 0
  dir qid 1
  dir qid 2
  dir qid 3
  dir qid 4
  dir qid 5
  dir qid 6
  dir qid 7
  dir qid 8
  dir qid 9
  dir qid 10
  dir qid 11
  dir qid 12
  dir qid 13
  dir qid 14
  dir qid 15

  ldb qid 0 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 1 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 2 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 3 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 4 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 5 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 6 qid_ldb_inflight_limit=256 fid_cfg_v=1
  ldb qid 7 qid_ldb_inflight_limit=256 fid_cfg_v=1

  vas 0 credit_cnt=8192 dir_qidv0=1 dir_qidv1=1 dir_qidv2=1 dir_qidv3=1 dir_qidv4=1 dir_qidv5=1 dir_qidv6=1 dir_qidv7=1 dir_qidv8=1 dir_qidv9=1 dir_qidv10=1 dir_qidv11=1 dir_qidv12=1 dir_qidv13=1 dir_qidv14=1 dir_qidv15=1
  vas 0 ldb_qidv0=1 ldb_qidv1=1 ldb_qidv2=1 ldb_qidv3=1 ldb_qidv4=1 ldb_qidv5=1 ldb_qidv6=1 ldb_qidv7=1

  dir pp 0  vas=0
  dir pp 1  vas=0
  dir pp 2  vas=0
  dir pp 3  vas=0
  dir pp 4  vas=0
  dir pp 5  vas=0
  dir pp 6  vas=0
  dir pp 7  vas=0
  dir pp 8  vas=0
  dir pp 9  vas=0
  dir pp 10 vas=0
  dir pp 11 vas=0
  dir pp 12 vas=0
  dir pp 13 vas=0
  dir pp 14 vas=0
  dir pp 15 vas=0

  dir cq 0  cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 1  cq_depth=1024 gpa=sm
  dir cq 2  cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 3  cq_depth=1024 gpa=sm
  dir cq 4  cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 5  cq_depth=1024 gpa=sm
  dir cq 6  cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 7  cq_depth=1024 gpa=sm
  dir cq 8  cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 9  cq_depth=1024 gpa=sm
  dir cq 10 cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 11 cq_depth=1024 gpa=sm
  dir cq 12 cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 13 cq_depth=1024 gpa=sm
  dir cq 14 cq_depth=1024 gpa=sm is_keep_pf_ppid=1
  dir cq 15 cq_depth=1024 gpa=sm

  ldb pp 0  vas=0
  ldb pp 1  vas=0
  ldb pp 2  vas=0
  ldb pp 3  vas=0
  ldb pp 4  vas=0
  ldb pp 5  vas=0
  ldb pp 6  vas=0
  ldb pp 7  vas=0

  ldb cq 0  cq_depth=1024 gpa=sm hist_list_base=0x000 hist_list_limit=0x0ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 1  cq_depth=1024 gpa=sm hist_list_base=0x100 hist_list_limit=0x1ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 2  cq_depth=1024 gpa=sm hist_list_base=0x200 hist_list_limit=0x2ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 3  cq_depth=1024 gpa=sm hist_list_base=0x300 hist_list_limit=0x3ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 4  cq_depth=1024 gpa=sm hist_list_base=0x400 hist_list_limit=0x4ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 5  cq_depth=1024 gpa=sm hist_list_base=0x500 hist_list_limit=0x5ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 6  cq_depth=1024 gpa=sm hist_list_base=0x600 hist_list_limit=0x6ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0
  ldb cq 7  cq_depth=1024 gpa=sm hist_list_base=0x700 hist_list_limit=0x7ff qidv0=1 qidix0=0 pri0=0 qidv1=1 qidix1=1 pri1=0 qidv2=1 qidix2=2 pri2=0 qidv3=1 qidix3=3 pri3=0 qidv4=1 qidix4=4 pri4=0 qidv5=1 qidix5=5 pri5=0 qidv6=1 qidix6=6 pri6=0 qidv7=1 qidix7=7 pri7=0

cfg_end

wr hqm_sif_csr.iosfp_cgctl.clkgate_enable 0
wr hqm_sif_csr.iosfs_cgctl.clkgate_enable 0

idle 100
