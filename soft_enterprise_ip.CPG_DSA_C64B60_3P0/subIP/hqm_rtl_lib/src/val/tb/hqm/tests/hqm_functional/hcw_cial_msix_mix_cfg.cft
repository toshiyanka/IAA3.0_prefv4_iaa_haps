#mem_update      # initialize memories to hqm_cfg defaults using backdoor access

cfg_begin

  dir qid DQID0:*
  dir qid DQID1:*
  dir qid DQID2:*
  dir qid DQID3:*
  dir qid DQID4:*
  dir qid DQID5:*
  dir qid DQID6:*
  dir qid DQID7:*
  dir qid DQID8:*
  dir qid DQID9:*
  dir qid DQID10:*
  dir qid DQID11:*
  dir qid DQID12:*
  dir qid DQID13:*
  dir qid DQID14:*
  dir qid DQID15:*

  ldb qid LQID0:*  qid_ldb_inflight_limit=128
  ldb qid LQID1:*  qid_ldb_inflight_limit=128
  ldb qid LQID2:*  qid_ldb_inflight_limit=128
  ldb qid LQID3:*  qid_ldb_inflight_limit=128
  ldb qid LQID4:*  qid_ldb_inflight_limit=128
  ldb qid LQID5:*  qid_ldb_inflight_limit=128
  ldb qid LQID6:*  qid_ldb_inflight_limit=128
  ldb qid LQID7:*  qid_ldb_inflight_limit=128
  ldb qid LQID8:*  qid_ldb_inflight_limit=128
  ldb qid LQID9:*  qid_ldb_inflight_limit=128
  ldb qid LQID10:* qid_ldb_inflight_limit=128
  ldb qid LQID11:* qid_ldb_inflight_limit=128
  ldb qid LQID12:* qid_ldb_inflight_limit=128
  ldb qid LQID13:* qid_ldb_inflight_limit=128
  ldb qid LQID14:* qid_ldb_inflight_limit=128


  vas VAS0:* dir_qidv:DQID0=1  dir_qidv:DQID1=1  dir_qidv:DQID2=1  dir_qidv:DQID3=1  dir_qidv:DQID4=1  dir_qidv:DQID5=1  dir_qidv:DQID6=1  dir_qidv:DQID7=1  credit_cnt=6096
  vas VAS0   dir_qidv:DQID8=1  dir_qidv:DQID9=1  dir_qidv:DQID10=1 dir_qidv:DQID11=1 dir_qidv:DQID12=1 dir_qidv:DQID13=1 dir_qidv:DQID14=1 dir_qidv:DQID15=1 
  vas VAS0   ldb_qidv:LQID0=1  ldb_qidv:LQID1=1  ldb_qidv:LQID2=1  ldb_qidv:LQID3=1  ldb_qidv:LQID4=1  ldb_qidv:LQID5=1  ldb_qidv:LQID6=1  ldb_qidv:LQID7=1  
  vas VAS0   ldb_qidv:LQID8=1  ldb_qidv:LQID9=1  ldb_qidv:LQID10=1 ldb_qidv:LQID11=1 ldb_qidv:LQID12=1 ldb_qidv:LQID13=1 ldb_qidv:LQID14=1                   

  dir pp DQID0   vas=VAS0 
  dir pp DQID1   vas=VAS0 
  dir pp DQID2   vas=VAS0 
  dir pp DQID3   vas=VAS0 
  dir pp DQID4   vas=VAS0 
  dir pp DQID5   vas=VAS0 
  dir pp DQID6   vas=VAS0 
  dir pp DQID7   vas=VAS0 
  dir pp DQID8   vas=VAS0 
  dir pp DQID9   vas=VAS0 
  dir pp DQID10  vas=VAS0 
  dir pp DQID11  vas=VAS0 
  dir pp DQID12  vas=VAS0 
  dir pp DQID13  vas=VAS0 
  dir pp DQID14  vas=VAS0 
  dir pp DQID15  vas=VAS0 

  dir cq DQID0  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 
  dir cq DQID1  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=2
  dir cq DQID2  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID3  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=4
  dir cq DQID4  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID5  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=6
  dir cq DQID6  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID7  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=8
  dir cq DQID8  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID9  gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID10 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID11 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID12 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID13 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID14 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1  cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  dir cq DQID15 gpa=sm cq_depth=128 cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1

  ldb pp LPP0:*  vas=VAS0 
  ldb pp LPP1:*  vas=VAS0 
  ldb pp LPP2:*  vas=VAS0 
  ldb pp LPP3:*  vas=VAS0 
  ldb pp LPP4:*  vas=VAS0 
  ldb pp LPP5:*  vas=VAS0 
  ldb pp LPP6:*  vas=VAS0 
  ldb pp LPP7:*  vas=VAS0 
  ldb pp LPP8:*  vas=VAS0 
  ldb pp LPP9:*  vas=VAS0 
  ldb pp LPP10:* vas=VAS0 
  ldb pp LPP11:* vas=VAS0 
  ldb pp LPP12:* vas=VAS0 
  ldb pp LPP13:* vas=VAS0 
  ldb pp LPP14:* vas=VAS0 

  ldb cq LPP0   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID0  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x0    hist_list_limit=0x7F  cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 
  ldb cq LPP1   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID1  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x80   hist_list_limit=0xFF  cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP2   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID2  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x100  hist_list_limit=0x17F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP3   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID3  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x180  hist_list_limit=0x1FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP4   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID4  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x200  hist_list_limit=0x27F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP5   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID5  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x280  hist_list_limit=0x2FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP6   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID6  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x300  hist_list_limit=0x37F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP7   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID7  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x380  hist_list_limit=0x3FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP8   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID8  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x400  hist_list_limit=0x47F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP9   gpa=sm cq_depth=128  qidv0=1 qidix0=LQID9  pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x480  hist_list_limit=0x4FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=2
  ldb cq LPP10  gpa=sm cq_depth=128  qidv0=1 qidix0=LQID10 pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x500  hist_list_limit=0x57F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP11  gpa=sm cq_depth=128  qidv0=1 qidix0=LQID11 pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x580  hist_list_limit=0x5FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=3
  ldb cq LPP12  gpa=sm cq_depth=128  qidv0=1 qidix0=LQID12 pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x600  hist_list_limit=0x67f cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1
  ldb cq LPP13  gpa=sm cq_depth=128  qidv0=1 qidix0=LQID13 pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x680  hist_list_limit=0x6FF cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1 cq_isr_en_code=2 cq_isr_vector=4
  ldb cq LPP14  gpa=sm cq_depth=128  qidv0=1 qidix0=LQID14 pri0=0 cq_ldb_inflight_limit=128 hist_list_base=0x700  hist_list_limit=0x77F cq_timer_intr_thresh=[5,15,28,48,69,98]  cq_timer_intr_ena=1 cq_depth_intr_thresh=[7,15,27,38,58,63] cq_depth_intr_ena=1

  msix_cq 2  addr=0x2222cafebebc010 data=0xbb331001 is_ldb=0 cq=DQID1
  msix_cq 4  addr=0x2222cafebebc020 data=0xbb331002 is_ldb=0 cq=DQID3
  msix_cq 6  addr=0x2222cafebebc030 data=0xbb331003 is_ldb=0 cq=DQID5
  msix_cq 8  addr=0x2222cafebebc040 data=0xbb331004 is_ldb=0 cq=DQID7

  msix_cq 16 addr=0x2222cafebebc160 data=0xbb331016 is_ldb=1 cq=LPP9 
  msix_cq 17 addr=0x2222cafebebc170 data=0xbb331017 is_ldb=1 cq=LPP11
  msix_cq 18 addr=0x2222cafebebc180 data=0xbb331018 is_ldb=1 cq=LPP13

  vf VF0:0 ldb_vpp0_pp=LPP0   dir_vpp0_pp=DQID0   ldb_vqid0_qid=LQID0   dir_vqid0_qid=DQID0
  vf VF0   ldb_vpp1_pp=LPP1                       ldb_vqid1_qid=LQID1   
  vf VF1:1 ldb_vpp2_pp=LPP2   dir_vpp2_pp=DQID2   ldb_vqid2_qid=LQID2   dir_vqid2_qid=DQID2
  vf VF1   ldb_vpp3_pp=LPP3                       ldb_vqid3_qid=LQID3   
  vf VF2:2 ldb_vpp4_pp=LPP4   dir_vpp4_pp=DQID4   ldb_vqid4_qid=LQID4   dir_vqid4_qid=DQID4
  vf VF2   ldb_vpp5_pp=LPP5                       ldb_vqid5_qid=LQID5   
  vf VF3:3 ldb_vpp6_pp=LPP6   dir_vpp6_pp=DQID6   ldb_vqid6_qid=LQID6   dir_vqid6_qid=DQID6
  vf VF3   ldb_vpp7_pp=LPP7                       ldb_vqid7_qid=LQID7   
  vf VF4:4 ldb_vpp8_pp=LPP8   dir_vpp8_pp=DQID8   ldb_vqid8_qid=LQID8   dir_vqid8_qid=DQID8
  vf VF4                      dir_vpp9_pp=DQID9                         dir_vqid9_qid=DQID9
  vf VF5:5 ldb_vpp10_pp=LPP10 dir_vpp10_pp=DQID10 ldb_vqid10_qid=LQID10 dir_vqid10_qid=DQID10
  vf VF5                      dir_vpp11_pp=DQID11                       dir_vqid11_qid=DQID11
  vf VF6:6 ldb_vpp12_pp=LPP12 dir_vpp12_pp=DQID12 ldb_vqid12_qid=LQID12 dir_vqid12_qid=DQID12
  vf VF6                      dir_vpp13_pp=DQID13                       dir_vqid13_qid=DQID13
  vf VF7:7 ldb_vpp14_pp=LPP14 dir_vpp14_pp=DQID14 ldb_vqid14_qid=LQID14 dir_vqid14_qid=DQID14
  vf VF7                      dir_vpp15_pp=DQID15                       dir_vqid15_qid=DQID15

  vf VF0   msi_enable=1 msi_multi_msg_en=1 msi_addr=0x22222200aaaaaa00 msi_data=0xc0deff00 
  vf VF0   msi0_dir_vcq=0
  vf VF0   msi16_ldb_vcq=0 msi17_ldb_vcq=1

  vf VF1   msi_enable=1 msi_multi_msg_en=1 msi_addr=0x22222200aaaaaa10 msi_data=0xc0deff01 
  vf VF1   msi2_dir_vcq=2
  vf VF1   msi18_ldb_vcq=2  msi19_ldb_vcq=3

  vf VF2   msi_enable=1 msi_multi_msg_en=2 msi_addr=0x22222200aaaaaa20 msi_data=0xc0deff02 
  vf VF2   msi4_dir_vcq=4
  vf VF2   msi20_ldb_vcq=4  msi21_ldb_vcq=5

  vf VF3   msi_enable=1 msi_multi_msg_en=3 msi_addr=0x22222200aaaaaa30 msi_data=0xc0deff03 
  vf VF3   msi6_dir_vcq=6
  vf VF3   msi22_ldb_vcq=6  msi23_ldb_vcq=7

  vf VF4   msi_enable=1 msi_multi_msg_en=4 msi_addr=0x22222200aaaaaa40 msi_data=0xc0deff04 
  vf VF4   msi8_dir_vcq=8  msi9_dir_vcq=9
  vf VF4   msi24_ldb_vcq=8

  vf VF5   msi_enable=1 msi_multi_msg_en=5 msi_addr=0x22222200aaaaaa50 msi_data=0xc0deff05 
  vf VF5   msi10_dir_vcq=10 msi11_dir_vcq=11
  vf VF5   msi26_ldb_vcq=10

  vf VF6   msi_enable=1 msi_multi_msg_en=5 msi_addr=0x22222200aaaaaa60 msi_data=0xc0deff06 
  vf VF6   msi12_dir_vcq=12 msi13_dir_vcq=13
  vf VF6   msi28_ldb_vcq=12

  vf VF7   msi_enable=1 msi_multi_msg_en=5 msi_addr=0x22222200aaaaaa70 msi_data=0xc0deff07 
  vf VF7   msi14_dir_vcq=14 msi15_dir_vcq=15
  vf VF7   msi30_ldb_vcq=14

cfg_end

wr credit_hist_pipe.cfg_dir_cq_intr_armed0 0xffffffff
wr credit_hist_pipe.cfg_dir_cq_intr_armed1 0xffffffff
wr credit_hist_pipe.cfg_dir_cq_timer_ctl.enb 1
wr credit_hist_pipe.cfg_dir_cq_timer_ctl.sample_interval 1

wr credit_hist_pipe.cfg_ldb_cq_intr_armed0 0xffffffff
wr credit_hist_pipe.cfg_ldb_cq_intr_armed1 0xffffffff
wr credit_hist_pipe.cfg_ldb_cq_timer_ctl.enb 1
wr credit_hist_pipe.cfg_ldb_cq_timer_ctl.sample_interval 1

rd hqm_pf_cfg_i.vendor_id
