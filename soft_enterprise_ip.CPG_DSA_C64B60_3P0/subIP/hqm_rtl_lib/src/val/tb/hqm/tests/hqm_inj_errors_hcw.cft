rd hqm_system_csr.alarm_hw_synd      0x00000000
rd hqm_system_csr.alarm_pf_synd0     0x00000000
rd hqm_system_csr.alarm_pf_synd1     0x00000000
rd hqm_system_csr.alarm_pf_synd2     0x00000000
rd hqm_system_csr.alarm_vf_synd0[0]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[0]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[0]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[1]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[1]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[1]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[2]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[2]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[2]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[3]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[3]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[3]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[4]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[4]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[4]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[5]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[5]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[5]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[6]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[6]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[6]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[7]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[7]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[7]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[8]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[8]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[8]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[9]  0x00000000
rd hqm_system_csr.alarm_vf_synd1[9]  0x00000000
rd hqm_system_csr.alarm_vf_synd2[9]  0x00000000
rd hqm_system_csr.alarm_vf_synd0[10] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[10] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[10] 0x00000000
rd hqm_system_csr.alarm_vf_synd0[11] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[11] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[11] 0x00000000
rd hqm_system_csr.alarm_vf_synd0[12] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[12] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[12] 0x00000000
rd hqm_system_csr.alarm_vf_synd0[13] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[13] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[13] 0x00000000
rd hqm_system_csr.alarm_vf_synd0[14] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[14] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[14] 0x00000000
rd hqm_system_csr.alarm_vf_synd0[15] 0x00000000
rd hqm_system_csr.alarm_vf_synd1[15] 0x00000000
rd hqm_system_csr.alarm_vf_synd2[15] 0x00000000

#########################################################################################################################
# Injected parity error on HCW port info

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_HCW_PORT 1
IDLE 20
HCW DIR:0 vf_num=0 qe_valid=1 qe_orsp=0 qe_uhl=0 cq_pop=0 meas=0 lockid=0x000 msgtype=0 qpri=0 qtype=dir qid=0 dsi=0x300 ingress_drop=1
msix_alarm_wait 1000

rd hqm_system_csr.ingress_lut_err    0x00080000
rd hqm_system_csr.alarm_hw_synd      0x806b8500 # v=1 src=0 unit=1 aid=43 cls=2 alarm=1 rtype=pp pp=0
rd hqm_system_csr.alarm_pf_synd0     0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[0]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[1]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[2]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[3]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[4]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[5]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[6]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[7]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[8]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[9]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[10] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[11] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[12] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[13] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[14] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[15] 0x00000000 0x80000000
wr hqm_system_csr.alarm_hw_synd      0x80000000
rd hqm_system_csr.alarm_hw_synd      0x006b8500
wr hqm_system_csr.ingress_lut_err    0x00080000
rd hqm_system_csr.ingress_lut_err    0x00000000

rd hqm_system_csr.hqm_system_cnt_0   0x00000001 # Enqueued HCWs input               +1
rd hqm_system_csr.hqm_system_cnt_2   0x00000000 # Enqueued HCWs output
rd hqm_system_csr.hqm_system_cnt_4   0x00000001 # Enqueued HCWs dropped             +1
rd hqm_system_csr.hqm_system_cnt_6   0x00000000 # Scheduled HCWs received
rd hqm_system_csr.hqm_system_cnt_8   0x00000000 # Scheduled HCWs -> WBUF
rd hqm_system_csr.hqm_system_cnt_14  0x00000001 # MSI-Xs                            +1
rd hqm_system_csr.hqm_system_cnt_16  0x00000001 # IOSF writes                       +1 (MSI-X)
rd hqm_system_csr.hqm_system_cnt_18  0x00000000 # IOSF dropped writes

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_HCW_PORT 0

wr hqm_system_csr.msix_ack.MSIX_0_ACK 1         # Ack MSI-X

#########################################################################################################################
# Injected parity error on SCH request

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_SCH_REQ 1
IDLE 20
HCW DIR:0 vf_num=1 qe_valid=1 qe_orsp=0 qe_uhl=0 cq_pop=0 meas=0 lockid=0x111 msgtype=0 qpri=0 qtype=dir qid=0 dsi=0x300 ingress_drop=1
msix_alarm_wait 1000

rd hqm_system_csr.egress_lut_err     0x00000800 # sch_req_perr=1
rd hqm_system_csr.alarm_hw_synd      0x804a8400 # v=1 src=0 unit=1 aid=0a cls=2 alarm=1
rd hqm_system_csr.alarm_pf_synd0     0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[0]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[1]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[2]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[3]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[4]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[5]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[6]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[7]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[8]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[9]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[10] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[11] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[12] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[13] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[14] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[15] 0x00000000 0x80000000
wr hqm_system_csr.alarm_hw_synd      0x80000000
rd hqm_system_csr.alarm_hw_synd      0x004a8400
wr hqm_system_csr.egress_lut_err     0x00000800
rd hqm_system_csr.egress_lut_err     0x00000000

rd hqm_system_csr.hqm_system_cnt_0   0x00000002 # Enqueued HCWs input               +1
rd hqm_system_csr.hqm_system_cnt_2   0x00000001 # Enqueued HCWs output              +1
rd hqm_system_csr.hqm_system_cnt_4   0x00000001 # Enqueued HCWs dropped
rd hqm_system_csr.hqm_system_cnt_6   0x00000001 # Scheduled HCWs received           +1
rd hqm_system_csr.hqm_system_cnt_8   0x00000001 # Scheduled HCWs -> WBUF
rd hqm_system_csr.hqm_system_cnt_14  0x00000002 # MSI-Xs                            +1
rd hqm_system_csr.hqm_system_cnt_16  0x00000002 # IOSF writes                       +1 (MSI-X)
rd hqm_system_csr.hqm_system_cnt_18  0x00000001 # IOSF dropped writes               +1

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_SCH_REQ 0

wr hqm_system_csr.msix_ack.MSIX_0_ACK 1         # Ack MSI-X

# Return token

HCW DIR:0 vf_num=1 qe_valid=0 qe_orsp=0 qe_uhl=0 cq_pop=1 meas=0 lockid=0x000 msgtype=0 qpri=0 qtype=dir qid=0 dsi=0x300

#########################################################################################################################
# Injected parity error on SCH data

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_SCH_DATA 1
IDLE 20
HCW DIR:0 vf_num=2 qe_valid=1 qe_orsp=0 qe_uhl=0 cq_pop=0 meas=0 lockid=0x222 msgtype=0 qpri=0 qtype=dir qid=0 dsi=0x300
msix_alarm_wait 1000

rd hqm_system_csr.egress_lut_err     0x00000400 # sch_data_perr=1
rd hqm_system_csr.alarm_hw_synd      0x804a8400 # v=1 src=0 unit=1 aid=0a cls=2 alarm=1
rd hqm_system_csr.alarm_pf_synd0     0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[0]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[1]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[2]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[3]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[4]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[5]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[6]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[7]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[8]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[9]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[10] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[11] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[12] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[13] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[14] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[15] 0x00000000 0x80000000
wr hqm_system_csr.alarm_hw_synd      0x80000000
rd hqm_system_csr.alarm_hw_synd      0x004a8400
wr hqm_system_csr.egress_lut_err     0x00000400
rd hqm_system_csr.egress_lut_err     0x00000000

rd hqm_system_csr.hqm_system_cnt_0   0x00000004 # Enqueued HCWs input               +2 (TKN + HCW)
rd hqm_system_csr.hqm_system_cnt_2   0x00000003 # Enqueued HCWs output              +2 (TKN + HCW)
rd hqm_system_csr.hqm_system_cnt_4   0x00000001 # Enqueued HCWs dropped
rd hqm_system_csr.hqm_system_cnt_6   0x00000002 # Scheduled HCWs received           +1
rd hqm_system_csr.hqm_system_cnt_8   0x00000002 # Scheduled HCWs -> WBUF            +1
rd hqm_system_csr.hqm_system_cnt_14  0x00000003 # MSI-Xs                            +1
rd hqm_system_csr.hqm_system_cnt_16  0x00000004 # IOSF writes                       +2 (SCH w/ hcw_error + MSI-X)
rd hqm_system_csr.hqm_system_cnt_18  0x00000001 # IOSF dropped writes

wr hqm_system_csr.parity_ctl.INJ_PAR_ERR_SCH_DATA 0

wr hqm_system_csr.msix_ack.MSIX_0_ACK 1         # Ack MSI-X

# Return token

HCW DIR:0 vf_num=2 qe_valid=0 qe_orsp=0 qe_uhl=0 cq_pop=1 meas=0 lockid=0x000 msgtype=0 qpri=0 qtype=dir qid=0 dsi=0x300

IDLE 200
rd hqm_system_csr.alarm_hw_synd      0x00000000 0x80000000
rd hqm_system_csr.alarm_pf_synd0     0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[0]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[1]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[2]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[3]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[4]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[5]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[6]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[7]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[8]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[9]  0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[10] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[11] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[12] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[13] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[14] 0x00000000 0x80000000
rd hqm_system_csr.alarm_vf_synd0[15] 0x00000000 0x80000000

