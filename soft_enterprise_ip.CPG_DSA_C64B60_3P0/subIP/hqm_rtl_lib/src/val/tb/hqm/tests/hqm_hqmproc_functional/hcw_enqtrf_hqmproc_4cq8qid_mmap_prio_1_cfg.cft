idle 400
###################################
# Read first part of PF header
rd hqm_pf_cfg_i.vendor_id
rd hqm_pf_cfg_i.device_id
rd hqm_pf_cfg_i.device_command
rd hqm_pf_cfg_i.device_status
###################################
# Setup CSR_PF BAR to a base address of 0x00000002_xxxxxxxx
wr hqm_pf_cfg_i.csr_bar_l 0x00000000
wr hqm_pf_cfg_i.csr_bar_u 0x00000002
###################################
# Setup FUNC_PF BAR to a base address of 0x00000001_xxxxxxxx
wr hqm_pf_cfg_i.func_bar_l 0x00000000
wr hqm_pf_cfg_i.func_bar_u 0x00000001
###################################
# Setup FUNC_VF BAR to a base address of 0x00000003_xxxxxxxx
#### wr hqm_pf_cfg_i.sriov_cap_func_bar_l 0x00000000
#### wr hqm_pf_cfg_i.sriov_cap_func_bar_u 0x00000003
###################################
# Enable PF memory operations
wr hqm_pf_cfg_i.device_command 0x6
rd hqm_pf_cfg_i.device_command
###################################
wr config_master.cfg_pm_pmcsr_disable.disable 0x0
rd config_master.cfg_pm_pmcsr_disable.disable 0x0
##
###poll to Wait for reset to be done
poll config_master.cfg_diagnostic_reset_status 0x800003ff 0x800003ff 500
###poll to Wait for unit_idle to be done
poll config_master.cfg_diagnostic_idle_status 0x0007ffff 0x0007ffff 500
###################################



###################################
# Setup LUTs used by HCWs

#mem_update      # initialize memories to hqm_cfg defaults using backdoor access

cfg_begin

  dir qid 0
  dir qid 1
  dir qid 2
  dir qid 3

  ldb qid  0 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  1 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  2 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  3 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  4 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  5 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  6 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024
  ldb qid  7 qid_ldb_inflight_limit=256 fid_cfg_v=1 fid_limit=1024

  vas 0  credit_cnt=16384 
  vas 0  dir_qidv0=1  dir_qidv1=1  dir_qidv2=1  dir_qidv3=1
  vas 0  ldb_qidv0=1  ldb_qidv1=1  ldb_qidv2=1  ldb_qidv3=1
  vas 0  ldb_qidv4=1  ldb_qidv5=1  ldb_qidv6=1  ldb_qidv7=1
  
    
  dir pp 0  vas=0
  dir pp 1  vas=0
  dir pp 2  vas=0
  dir pp 3  vas=0

  dir cq 0  cq_depth=1024 gpa=sm cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  dir cq 1  cq_depth=1024 gpa=sm cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  dir cq 2  cq_depth=1024 gpa=sm cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  dir cq 3  cq_depth=1024 gpa=sm cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1

  ldb pp 0  vas=0
  ldb pp 1  vas=0
  ldb pp 2  vas=0
  ldb pp 3  vas=0
  ldb pp 4  vas=0
  ldb pp 5  vas=0
  ldb pp 6  vas=0
  ldb pp 7  vas=0

  ldb cq 0  cq_depth=1024 gpa=sm hist_list_base=0x000 hist_list_limit=0x1ff qidv0=1 qidix0=0  pri0=0   qidv1=1 qidix1=1 pri1=0   qidv2=1 qidix2=2 pri2=2   qidv3=1 qidix3=3 pri3=2  qidv4=1 qidix4=4 pri4=4  qidv5=1 qidix5=5 pri5=4  qidv6=1 qidix6=6 pri6=6  qidv7=1 qidix7=7 pri7=6 cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  ldb cq 1  cq_depth=1024 gpa=sm hist_list_base=0x200 hist_list_limit=0x3ff qidv0=1 qidix0=0  pri0=2   qidv1=1 qidix1=1 pri1=2   qidv2=1 qidix2=2 pri2=0   qidv3=1 qidix3=3 pri3=0  qidv4=1 qidix4=4 pri4=6  qidv5=1 qidix5=5 pri5=6  qidv6=1 qidix6=6 pri6=4  qidv7=1 qidix7=7 pri7=4 cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  ldb cq 2  cq_depth=1024 gpa=sm hist_list_base=0x400 hist_list_limit=0x5ff qidv0=1 qidix0=0  pri0=4   qidv1=1 qidix1=1 pri1=4   qidv2=1 qidix2=2 pri2=6   qidv3=1 qidix3=3 pri3=6  qidv4=1 qidix4=4 pri4=0  qidv5=1 qidix5=5 pri5=0  qidv6=1 qidix6=6 pri6=2  qidv7=1 qidix7=7 pri7=2 cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1
  ldb cq 3  cq_depth=1024 gpa=sm hist_list_base=0x600 hist_list_limit=0x7ff qidv0=1 qidix0=0  pri0=6   qidv1=1 qidix1=1 pri1=6   qidv2=1 qidix2=2 pri2=4   qidv3=1 qidix3=3 pri3=4  qidv4=1 qidix4=4 pri4=2  qidv5=1 qidix5=5 pri5=2  qidv6=1 qidix6=6 pri6=0  qidv7=1 qidix7=7 pri7=0 cq_timer_intr_thresh=2 cq_timer_intr_ena=1 cq_depth_intr_thresh=1 cq_depth_intr_ena=1


cfg_end

##ingress alarm enable
#wr hqm_system_csr.ingress_alarm_enable 0xffffffff
#rd hqm_system_csr.ingress_alarm_enable 0x0000003f



