## ---------------------------------------------------------------------
## -- ALARM_VF_SYND0 PAR ERR injection
## ---------------------------------------------------------------------
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x0
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1
rd hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1

rd hqm_system_csr.alarm_vf_synd0[0]
msix_alarm_wait 1000


poll hqm_system_csr.alarm_lut_perr 0x00001000 0xffffffff 10 100
rd hqm_system_csr.alarm_hw_synd    0x804b8400 
rd hqm_system_csr.alarm_err        0x00000008 

wr hqm_system_csr.alarm_lut_perr        0x00001000
wr hqm_system_csr.alarm_hw_synd.valid   0x1
wr hqm_system_csr.alarm_err        0x00000008 

rd hqm_system_csr.alarm_lut_perr       0x0
rd hqm_system_csr.alarm_hw_synd.valid   0x0
rd hqm_system_csr.alarm_hw_synd.more    0x0
rd hqm_system_csr.alarm_err        0x00000000 

## ---------------------------------------------------------------------
## -- Clear MSIX0 ACK.
## ---------------------------------------------------------------------
rd hqm_system_csr.msix_ack                    0x00000001
wr hqm_system_csr.msix_ack                    0x00000001
rd hqm_system_csr.msix_ack                    0x00000000
## ---------------------------------------------------------------------

## ---------------------------------------------------------------
## -- Configure MSIX table entry
## ---------------------------------------------------------------
wr hqm_msix_mem.msg_addr_l[0]  0xaaaaaaa8
wr hqm_msix_mem.msg_addr_u[0]  0xaaaaaaaa
wr hqm_msix_mem.msg_data[0]    0xaaaaaaaa
wr hqm_msix_mem.vector_ctrl[0] 0x00000000
rd hqm_msix_mem.msg_addr_l[0]  0xaaaaaaa8
rd hqm_msix_mem.msg_addr_u[0]  0xaaaaaaaa
rd hqm_msix_mem.msg_data[0]    0xaaaaaaaa
rd hqm_msix_mem.vector_ctrl[0] 0x00000000
## ---------------------------------------------------------------

## ---------------------------------------------------------------------
## -- ALARM_VF_SYND1 PAR ERR injection
## ---------------------------------------------------------------------
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x0
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1
rd hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1

rd hqm_system_csr.alarm_vf_synd1[0]
msix_alarm_wait 1000

poll hqm_system_csr.alarm_lut_perr 0x00001000 0xffffffff 10 100
rd hqm_system_csr.alarm_hw_synd    0x804b8400 
rd hqm_system_csr.alarm_err        0x00000008 

wr hqm_system_csr.alarm_lut_perr        0x00001000
wr hqm_system_csr.alarm_hw_synd.valid   0x1
wr hqm_system_csr.alarm_err        0x00000008 

rd hqm_system_csr.alarm_lut_perr       0x0
rd hqm_system_csr.alarm_hw_synd.valid   0x0
rd hqm_system_csr.alarm_hw_synd.more    0x0
rd hqm_system_csr.alarm_err        0x00000000 

## ---------------------------------------------------------------------
## -- Clear MSIX0 ACK.
## ---------------------------------------------------------------------
rd hqm_system_csr.msix_ack                    0x00000001
wr hqm_system_csr.msix_ack                    0x00000001
rd hqm_system_csr.msix_ack                    0x00000000
## ---------------------------------------------------------------------

## ---------------------------------------------------------------
## -- Configure MSIX table entry
## ---------------------------------------------------------------
wr hqm_msix_mem.msg_addr_l[0]  0x55555554
wr hqm_msix_mem.msg_addr_u[0]  0x55555555
wr hqm_msix_mem.msg_data[0]    0x55555555
wr hqm_msix_mem.vector_ctrl[0] 0x00000000
rd hqm_msix_mem.msg_addr_l[0]  0x55555554
rd hqm_msix_mem.msg_addr_u[0]  0x55555555
rd hqm_msix_mem.msg_data[0]    0x55555555
rd hqm_msix_mem.vector_ctrl[0] 0x00000000
## ---------------------------------------------------------------


## ---------------------------------------------------------------------
## -- ALARM_VF_SYND2 PAR ERR injection
## ---------------------------------------------------------------------
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x0
wr hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1
rd hqm_system_csr.parity_ctl.inj_par_err_vf_synd 0x1

rd hqm_system_csr.alarm_vf_synd2[0]
msix_alarm_wait 1000

poll hqm_system_csr.alarm_lut_perr 0x00001000 0xffffffff 10 100
rd hqm_system_csr.alarm_hw_synd    0x804b8400 
rd hqm_system_csr.alarm_err        0x00000008 

wr hqm_system_csr.alarm_lut_perr        0x00001000
wr hqm_system_csr.alarm_hw_synd.valid   0x1
wr hqm_system_csr.alarm_err        0x00000008 

rd hqm_system_csr.alarm_lut_perr       0x0
rd hqm_system_csr.alarm_hw_synd.valid   0x0
rd hqm_system_csr.alarm_hw_synd.more    0x0
rd hqm_system_csr.alarm_err        0x00000000

## ---------------------------------------------------------------------
## -- Clear MSIX0 ACK.
## ---------------------------------------------------------------------
rd hqm_system_csr.msix_ack                    0x00000001
wr hqm_system_csr.msix_ack                    0x00000001
rd hqm_system_csr.msix_ack                    0x00000000
## ---------------------------------------------------------------------

