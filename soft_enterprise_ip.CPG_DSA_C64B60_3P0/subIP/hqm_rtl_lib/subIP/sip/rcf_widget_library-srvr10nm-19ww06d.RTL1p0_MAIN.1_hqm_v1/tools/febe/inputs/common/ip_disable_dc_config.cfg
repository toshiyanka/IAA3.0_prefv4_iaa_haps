package ip_disable_dc_config;

sub get_elab_log(){
   my $elabpath = "$ENV{MODEL_ROOT}/target/log/";
   opendir(DIR, $elabpath);
   @files = grep(/.*vcs.elab_ip_disable.log$/,readdir(DIR));
   closedir(DIR);
   return $elabpath.$files[0];
   };

sub get_data() {
   my $data={
      'INPUTS' => {
         -top_hier => "$ENV{MODEL_ROOT}/target/rcfwl/aceroot/results/DC/rcfwl_ip_disable/fev_v2k/rcfwl_ip_disable.hier",
       },

      'tophiergen' => {
         -hier_dump_top => 'rcfwl_ip_disable_tb_top.dut',
         -dump_hier_do_cmd => 'call rcfwl_ip_disable_tb_top.dump_hier',
       },

      'V2K_PREP' => {
         -acefullfilelist => "$ENV{MODEL_ROOT}/target/rcfwl_ip_disable/debug_dump/flg_v2k.rcfwl.Mip_disable.filelist.pl",
         -acefilelist => "$ENV{MODEL_ROOT}/target/rcfwl_ip_disable/debug_dump/flg_v2k.rcfwl.Mip_disable.filelist.Synthesis.pl",
         -elab_log => &get_elab_log(),
         -hier => '^rcfwl_ip_disable',
         -ace_command => "bman -dut rcfwl -s all +s debug_dump -mc ip_disable -nouse_timestamp -filelist_name_prefix flg_v2k -nodelete_flow_data -target_prefix target/rcfwl_ip_disable -sched local",
         -ace_filter_command => "bman -dut rcfwl -s all +s debug_dump -mc ip_disable -nouse_timestamp -filelist_name_prefix flg_v2k -filter Synthesis -enable_tag_overrides -add_flag_dump -add_tag_overrides_dump -nodelete_flow_data -target_prefix target/rcfwl_ip_disable -sched local",
       },
      'flg_v2k_sim' => {
         -v2k_prep_per_block   => 1,
         -enable_ctech         => 0,
         -enable_ctech_replace => 1,
         -acefilelist => "$ENV{MODEL_ROOT}/target/rcfwl_ip_disable/debug_dump/flg_v2k.rcfwl.Mip_disable.filelist.pl",
      },

   };
   return $data;
}

1;

