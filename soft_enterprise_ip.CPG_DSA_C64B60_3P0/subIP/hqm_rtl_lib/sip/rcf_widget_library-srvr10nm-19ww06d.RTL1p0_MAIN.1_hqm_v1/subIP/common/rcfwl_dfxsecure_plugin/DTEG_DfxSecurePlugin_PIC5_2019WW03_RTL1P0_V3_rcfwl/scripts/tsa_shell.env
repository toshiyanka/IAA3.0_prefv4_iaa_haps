#!/bin/echo "Must source me, can not run just as is"
#-*- shell-script -*-              For EMACS -- lets formatting happen

# this file generated by ACE_UTILS from the perl template:
# /p/hdk/rtl/proj_tools/tsa/master/18.15.06/templates/env/tsa_shell.env.template

echo "START tsa_shell.env: DATE =" `/bin/date`
# Setting up UNIX GROUPS (should be set in cfg/<DUT>.cfg)
setenv NB_WASH_ENABLED '1'
setenv NB_WASH_GROUPS 'soc,sip,dfxsip,siphdk,soc73,dk1273,hdk10nm,dk10nm,cdft,cdftsip'

setenv MODEL_ROOT /nfs/iind/disks/dteg_disk008/users/badithya/Release/dteg-dfxsecure_plugin
alias osetup  'eval `/p/hdk/rtl/proj_tools/onecfg/master/1.02.09/bin/ToolSetup.pl \!:* -v -v -v`'
alias modpath 'set modpath=(\!*); source /usr/intel/common/pkgs/eclogin/1.0/bin/modpath; unset modpath' 

# PSETUP configuration
alias tsetup 'source /p/hdk/rtl/proj_tools/psetup/master/16.01.01/6.0/bin/setupTool'
setenv CUST               ADL
setenv MODEL_ROOT         /nfs/iind/disks/dteg_disk008/users/badithya/Release/dteg-dfxsecure_plugin
setenv IP_ROOT            /nfs/iind/disks/dteg_disk008/users/badithya/Release/dteg-dfxsecure_plugin
setenv SOC_DAT_FILE       
setenv REPO_ROOT          $PWD
setenv RTL_ROOT           /p/hdk/rtl
setenv RTL_CAD_ROOT       /p/hdk/rtl/cad/x86-64_linux30
setenv CAD_ROOT           /p/hdk/rtl/cad/x86-64_linux30/dt
setenv RTL_PROJ_TOOLS     /p/hdk/rtl/proj_tools
setenv RTL_PROJ_BIN       /p/hdk/rtl/proj_tools/proj_binx/sip/latest
setenv RTL_PROJ_LIB       /p/hdk/rtl/proj_lib
setenv RTL_PROJ_CFG       /p/hdk/rtl/proj_cfg
setenv RTL_PROJ_BIN_GLOBALTOOL_PATH       /p/hdk/rtl/proj_tools/globaltools/latest
setenv TSA_TOOLS          /p/hdk/rtl/proj_tools/tsa/master/18.15.06/tools
setenv LM_PROJECT         DTEG



# Setting up ACE environment variables from tsa_shell{setenv_ace}
setenv ACE_ENG /nfs/iind/disks/dteg_disk008/users/badithya/Release/dteg-dfxsecure_plugin
setenv ACE_PROJECT dfxsecure_plugin
setenv ACE_PWA_DIR target/dfxsecure_plugin/ADL/mat1.4.10plus.p2_p1274.7/aceroot
setenv ACE_RC /nfs/iind/disks/dteg_disk008/users/badithya/Release/dteg-dfxsecure_plugin/cfg/ace/dfxsecure_plugin/dfxsecure_plugin.acerc
setenv ACE_TOOL_LOGDIR /tmp/badithya
setenv ENABLE_SETENV_ACE 1
setenv TMP /netbatch




# List of Added tools to 'tsetup' tools by $ToolConfig_tools{tsa_shell}{tsetup_add}
# lira
# lintra-rules
# List of Removed tools from 'tsetup' tools by $ToolConfig_tools{tsa_shell}{tsetup_rem}
# socfusegen # not working via tsetup (HDK or /p/com/eda)
# vera                     # EOL tool
# primetime                # FEBE tool
# PowerArtist              # FEBE tool
# starving_artist          # FEBE tool
# xa                       # FEBE tool
# ise                      # tsetup corrups gcc path
# isaf                     # tsetup corrups gcc path
# mre                      # gets setup within nebulon tool itself
# chassis                  # gets configured via $ENV{CHASSIS_ROOT}
echo ">> Tool settings for ADL"
if ( $?LINTRARULES ) then
   echo ">> LINTRARULES detected. Capture for later restore."
   setenv SAVE_LINTRA_RULES $LINTRARULES
endif


osetup tsetup ace cdclint collage coretools conformal ctech ctech_exp ctech_library designware effm fishtail intelcdc intel_jasper_library jaspergold lira lintra lintra-rules nebulon ovm PowerArtist questacdc saola socfusegen spyglass spyglass_methodology starving_artist tessent vcsmx verdi3 vipcat vggnu visait visaflow vc_static dvt zircon designcompiler synplifypro


echo ">> Additional Tool settings for ADL"


echo ">> Restoring LINTRARULES preset if exists"
if ( $?SAVE_LINTRA_RULES ) then
   echo ">> SAVE_LINTRA_RULES detected. Restoring LINTRARULES to $SAVE_LINTRA_RULES."
   setenv LINTRARULES $SAVE_LINTRA_RULES
else
  echo ">> SAVE_LINTRA_RULES not detected."
  echo ">>   No special LINTRARULES setup performed"
endif


echo ">> Setenv settings"
    setenv SPYGLASS_METHODOLOGY_DEPRECATED_PATH   /p/hdk/rtl/cad/x86-64_linux30/spyglass_methodology/spyglass_methodology/1.02.09.16ww18p3
    setenv SPG_LP_RULES                           /p/hdk/rtl/cad/x86-64_linux30/spyglass_methodology/spyglass_methodology/1.02.09.16ww18p3/lp_fe
    setenv SPYGLASS_METHODOLOGY_LP_PATH           /p/hdk/rtl/proj_tools/spyglass_methodology_lp/master/1.03.10.17ww24
    setenv SPG_RULES                 /p/hdk/rtl/cad/x86-64_linux30/spyglass_methodology/spyglass_methodology/1.02.09.16ww18p3
    setenv SPG_DFT_RULES             /p/hdk/rtl/cad/x86-64_linux30/spyglass_methodology/spyglass_methodology/1.02.09.16ww18p3/dft
    setenv SPYGLASS_DC_PATH          /p/hdk/cad/designcompiler/M-2016.12-SP3
    setenv ISAF_SPG_RULES            /p/hdk/rtl/cad/x86-64_linux30/dt/isaf/2.2.7.5
    setenv OVM_LIB                   /p/hdk/rtl/cad/x86-64_linux30/ovm/ovm/2.1.2_2b
    setenv SLA_LIB                   /p/hdk/rtl/cad/x86-64_linux30/intel/saola/16.2.10
    setenv KIT_PATH                  /p/hdk/pu_tu/prd/kits_10nm/17.4.2.p7
    setenv PROCESS                   p1274
    setenv COLLAGE_INTF_DEF          /p/hdk/rtl/cad/x86-64_linux30/intel/collage_intf_def/3.7.1
    setenv CHASSIS_ROOT              /p/hdk/rtl/cad/x86-64_linux30/intel/collage/4.11
    setenv COLLAGE_CHASSIS_BOOTSTRAP /p/hdk/rtl/cad/x86-64_linux30/intel/collage/4.11/tools/collage/utils/chassis_bootstrap.tcl
    setenv COLLAGE_LINT              /p/hdk/rtl/proj_tools/collageLint/master/2.00.05
    setenv COLLAGE_LINT_RULES        /p/hdk/rtl/proj_tools/collageLint/master/2.00.05/exec_scripts/rules_config.tcl
    setenv CDC_RULES                 /p/hdk/rtl/proj_tools/cdc/master/v20170612
    setenv CDC_RELEASE               /p/hdk/rtl/proj_tools/cdc/master/v20170612
    setenv UPF_CONFIG                LOCAL
    setenv DEBUSSY_VER               N-2017.12-1-T-20180221
    setenv DEFAULT_STDCELL_LIBRARY   /p/hdk/cad/stdcells/e05/17ww51.5_e05_j.0.p3_tglgt
    setenv UVM_HOME         /p/com/eda/accellera/uvm/1.2
    setenv SIP_PROJECT      dfx
    setenv PROJECT_BASE     $IP_ROOT
    setenv ACE_ENG_BASE     $PROJECT_BASE
    setenv LIB_AREA         $PROJECT_BASE/verif/lib
    setenv ACE_RTL_SIM      vcs
    setenv ACE_SINGLE_TOP_MODULE ACE_SINGLE_TOP_MODULE
    setenv COLLAGE_WORK     $IP_ROOT/tools/collage
    setenv COLLAGE_BATCH_MODE  1
    setenv NOVAS_WAVE_CASE_INSENSITIVE
    setenv FSDB_ENV_MAX_GLITCH_NUM   0
    setenv DW_LICENSE_OVERRIDE       DESIGNWARE-REGRESSION
    setenv BFM_BASE_DIR              /p/sip/sim-env/sip/
    setenv GCC_LIB_VER      gcc-64
    setenv SGLINT_MODEL_ROOT $IP_ROOT
    setenv SIP_QA_MODULE    lintra
    setenv LINTRA_REPORT    $IP_ROOT/tools/lint/lintra.rpt
    setenv EMUL_CFG_DIR        $REPO_ROOT/ace/effm_flows
    setenv EMUL_TOOLS_DIR      /p/hdk/rtl/cad/x86-64_linux30/intel/effm/2016.15/effm_tools
    setenv EMUL_RESULTS_DIR    $REPO_ROOT/results/emul
    setenv XVM_HOME /p/com/eda/intel/xvm/1.0.3
    setenv OVM_HOME /p/hdk/rtl/cad/x86-64_linux30/ovm/ovm/2.1.2_2a_ml
    setenv UVM_HOME /p/com/eda/accellera/uvm/1.2


echo ">> Setenv source common"
echo '>> source /nfs/site/eda/group/cse/setups/atrenta/atrenta.lic'
    source /nfs/site/eda/group/cse/setups/atrenta/atrenta.lic
echo '>> source /nfs/site/eda/group/cse/setups/cadence/cadence.lic'
    source /nfs/site/eda/group/cse/setups/cadence/cadence.lic
echo '>> source /nfs/site/eda/group/cse/setups/denali/denali.lic'
    source /nfs/site/eda/group/cse/setups/denali/denali.lic
echo '>> source /nfs/site/eda/group/cse/setups/synopsys/eigsynopsys.lic'
    source /nfs/site/eda/group/cse/setups/synopsys/eigsynopsys.lic
echo '>> source /nfs/site/eda/group/cse/setups/amiq/amiq.lic'
    source /nfs/site/eda/group/cse/setups/amiq/amiq.lic
echo '>> source /nfs/site/eda/group/cse/setups/apache/apache.lic'
    source /nfs/site/eda/group/cse/setups/apache/apache.lic
echo '>> source /nfs/site/eda/group/cse/setups/mentor/mentor.dft'
    source /nfs/site/eda/group/cse/setups/mentor/mentor.dft



echo ">> Running env POST script"
echo "source tsa/template_gen/cfg/ace/custom_post.env"
source tsa/template_gen/cfg/ace/custom_post.env
echo ">> Running env POST ends HERE "
echo;
echo;

echo ">> Additional static check Tool settings"
if ( $?SPYGLASS_LINT ) then
  echo ">> SPYGLASS_LINT detected. Switching spyglass versions."
  setenv ONECFG_spyglass_mode lint
  osetup spyglass_lint
  setenv SGLINT_MODEL_ROOT $MODEL_ROOT
else if ( $?QUESTA_CDC ) then
  echo ">> QUESTA_CDC detected. Switching ctech to structural."
  setenv ONECFG_CTECH STD
  osetup ctech
  echo ">> QUESTA_CDC detected. Setting up questacdc."
  osetup questacdc
  echo ">> QUESTA_CDC detected. Setting up cdclint."
  osetup cdclint
else if ( $?SPYGLASS_CDC ) then
  echo ">> SPYGLASS_CDC detected. Switching ctech to structural."
  setenv ONECFG_CTECH STD
  osetup ctech
  echo ">> SPYGLASS_CDC detected. Switching spyglass versions."
  setenv ONECFG_spyglass_mode cdc
  osetup spyglass_cdc
else if ( $?SPYGLASS_LP ) then
  echo ">> SPYGLASS_LP detected. Switching spyglass versions."
  setenv ONECFG_spyglass_mode lp
  osetup spyglass_lp
else if ( $?SPYGLASS_DFT ) then
  echo ">> SPYGLASS_DFT detected. Switching spyglass versions."
  setenv ONECFG_spyglass_mode dft
  osetup spyglass_dft
else if ( $?VC_STATIC_LP ) then
  echo ">> VC_STATIC_LP detected. Overriding vc_static setup"
  osetup vc_methodology_lp
  osetup vc_static
  unsetenv ALT_VCS_HOME
  unsetenv ALT_VERDI_HOME
else
  echo ">> Special static check variables not detected."
  echo ">>   No special static check setup performed"
endif




# Netbatch configurations (may be dut-specific by using the dut facet if needed) 
#   % vi $MODEL_ROOT/cfg/LocalToolData.pm
  setenv NBQSLOT "/DTEG/IP"
  setenv NBCLASS "SLES11&&4G" 
  setenv NBPOOL  "iind_normal" 

echo "DONE  tsa_shell.env: DATE =" `/bin/date`

